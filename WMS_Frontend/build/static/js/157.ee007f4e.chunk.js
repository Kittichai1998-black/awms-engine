(this.webpackJsonpselftraning=this.webpackJsonpselftraning||[]).push([[157],{857:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(17),r=a(11),i=a(0),o=a.n(i),c=(a(23),a(343)),u=a(130),s=a(698),d=a(699),m=a(700),g=a(701),p=a(363),b=a(702),f=a(361),h=a(364),v=a(873),y=a(532),E=a(522),O=a(523),j=a(524),C=a(525),_=a(362),S=a(521),k=a(866),P=a(852),W=a(853),w=a(854),x=a(855),L=a(856),I=(a(629),[{id:"status",label:"Status",minWidth:100},{id:"wms_doc",label:"WMS\xa0Doc",minWidth:100},{id:"customer",label:"Cutomer",minWidth:100},{id:"grade",label:"Grade",minWidth:100},{id:"lot",label:"Lot",minWidth:100},{id:"no_pallet",label:"No Pallet",minWidth:100},{id:"qty",label:"Qty",minWidth:100,align:"right",format:function(e){return Number(e.toFixed(3)).toLocaleString("en-US")}},{id:"unit",label:"Unit",minWidth:100},{id:"waiting_pallet",label:"Waiting(Pallet)",minWidth:100,align:"right"},{id:"received_pallet",label:"Received(Pallet)",minWidth:100,align:"right"},{id:"action",label:"\ud83d\udee0",minWidth:100,align:"center"}]),q=Object(c.a)({root:{width:"100%",padding:15}}),F=null,A=function(e){var t=e.open,a=e.handleClose,n=e.handleSetToast,l=void 0===n?function(){}:n,c=e.handleOnSuccess,u=void 0===c?function(){}:c,s=(q(),Object(i.useState)("")),d=Object(r.a)(s,2),m=d[0],g=d[1],p=Object(i.useState)(""),b=Object(r.a)(p,2),h=b[0],v=b[1],k=Object(i.useState)(""),P=Object(r.a)(k,2),W=P[0],x=P[1],I=Object(i.useState)(""),F=Object(r.a)(I,2),A=F[0],N=F[1],z=Object(i.useState)(""),D=Object(r.a)(z,2),G=D[0],R=D[1],B=Object(i.useState)(""),H=Object(r.a)(B,2),T=H[0],U=H[1],M=Object(i.useState)(""),J=Object(r.a)(M,2),Q=J[0],K=J[1],Y=Object(i.useState)(""),V=Object(r.a)(Y,2),X=V[0],Z=V[1],$=Object(i.useState)(""),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(!1),le=Object(r.a)(ne,2),re=le[0],ie=le[1];Object(i.useEffect)((function(){return function(){}}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",maxWidth:"xs"},o.a.createElement("form",{onSubmit:function(e){window.loading.onLoading(),ie(!0);var t=""!=X?Number(X):X;S.a.post("/v2/Picking_Plan_Front",{wms_doc:m,customer:h,to_wh:W,grade:A,lot:G,sku:T,status:Q,qty_pick:t,unit:te}).then((function(e){window.loading.onLoaded(),ie(!1),e.data._result.status?(l({msg:"Success",open:!0,type:"success"}),u(),a()):l({msg:"Fail : "+e.data._result.message,open:!0,type:"error"})})),e.preventDefault()},autoComplete:"off"},o.a.createElement(O.a,{id:"form-dialog-title",onClose:a},o.a.createElement("center",null,"Add Picking")),o.a.createElement(j.a,null,o.a.createElement(_.a,{autoFocus:!0,type:"text",margin:"dense",id:"wms_doc",label:"WMS Doc",fullWidth:!0,required:!0,value:m,onChange:function(e){return g(e.target.value)},helperText:null}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"customer",label:"Customer",fullWidth:!0,required:!0,value:h,onChange:function(e){return v(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"to_wh",label:"To WH",fullWidth:!0,required:!0,value:W,onChange:function(e){return x(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"grade",label:"Grade",fullWidth:!0,required:!0,value:A,onChange:function(e){return N(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"lot",label:"Lot",fullWidth:!0,required:!0,value:G,onChange:function(e){return R(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"sku",label:"SKU",fullWidth:!0,required:!0,value:T,onChange:function(e){return U(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"status",label:"Status",fullWidth:!0,required:!0,value:Q,onChange:function(e){return K(e.target.value)}}),o.a.createElement(_.a,{type:"number",margin:"dense",id:"qty_pick",label:"Qty Pick",fullWidth:!0,required:!0,value:X,onChange:function(e){return Z(e.target.value)}}),o.a.createElement(_.a,{type:"text",margin:"dense",id:"unit",label:"Unit",fullWidth:!0,required:!0,InputProps:{step:1},value:te,onChange:function(e){return ae(e.target.value)}})),o.a.createElement(C.a,{style:{backgroundColor:"#eee"}},re?o.a.createElement(f.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{size:"small",variant:"contained",onClick:a,color:"secondary",startIcon:o.a.createElement(w.a,null)},"Cancel"),o.a.createElement(y.a,{size:"small",variant:"contained",onClick:function(){},color:"primary",startIcon:o.a.createElement(L.a,null),type:"submit"},"Save"))))))};t.default=function(e){var t=q(),a=Object(i.useState)([]),c=Object(r.a)(a,2),_=c[0],L=c[1],N=Object(i.useState)(0),z=Object(r.a)(N,2),D=z[0],G=z[1],R=Object(i.useState)(10),B=Object(r.a)(R,2),H=B[0],T=B[1],U=Object(i.useState)(!1),M=Object(r.a)(U,2),J=M[0],Q=M[1],K=Object(i.useState)({msg:null,open:!1,type:null}),Y=Object(r.a)(K,2),V=Y[0],X=Y[1],Z=Object(i.useState)([]),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)(null),ne=Object(r.a)(ae,2),le=ne[0],re=ne[1];Object(i.useEffect)((function(){return window.loading.onLoading(),S.a.get("/v2/GetSPReportAPI",{spname:"Picking_PLAN_Load_Front"}).then((function(e){if(window.loading.onLoaded(),S.a.isMockData)return L(S.a.mockDataGCL.monitorReceive);e.data._result.status?(L(e.data.datas),F=setInterval((function(){S.a.get("/v2/GetSPReportAPI",{spname:"Picking_PLAN_Load_Front"}).then((function(e){e.data._result.status?L(e.data.datas):X({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})}))}),5e3)):X({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})})),function(){clearInterval(F)}}),[]);return o.a.createElement(u.a,{className:t.root},o.a.createElement(A,{open:J,handleClose:function(){return Q(!1)},handleSetToast:X,handleOnSuccess:function(){clearInterval(F),F=setInterval((function(){S.a.get("/v2/GetSPReportAPI",{spname:"Picking_PLAN_Load_Front"}).then((function(e){e.data._result.status?L(e.data.datas):X({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})}))}),5e3)}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:10}},o.a.createElement(y.a,{variant:"contained",color:"primary",size:"medium",startIcon:o.a.createElement(P.a,null),onClick:function(){return Q(!0)}}," Add Picking ")),o.a.createElement(s.a,{className:"tableCustom",style:{maxHeight:440}},o.a.createElement(d.a,{stickyHeader:!0,"aria-label":"sticky table"},o.a.createElement(m.a,null,o.a.createElement(g.a,null,I.map((function(e){return o.a.createElement(p.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,backgroundColor:"#BBB",padding:10}},e.label)})))),o.a.createElement(b.a,null,_.length>0&&_.slice(D*H,D*H+H).map((function(e,t){return o.a.createElement(g.a,{hover:!0,key:t},I.map((function(a,l){var r,i=e[a.id];return"action"==a.id?o.a.createElement(p.a,{key:a.id+t,align:a.align,style:{padding:10}},e.status.toLowerCase()!="Closed".toLowerCase()&&o.a.createElement(y.a,(r={variant:"contained",color:"primary",style:{backgroundColor:"#16C050"}},Object(n.a)(r,"color","secondary"),Object(n.a)(r,"size","small"),Object(n.a)(r,"onClick",(function(){return re(e.wms_doc)})),Object(n.a)(r,"disabled",ee.length>0),r),ee.indexOf(e.wms_doc)>-1?o.a.createElement(f.a,{size:20}):o.a.createElement(W.a,null)," Closed")):o.a.createElement(p.a,{key:a.id+t,align:a.align,style:{padding:10}},a.format&&"number"===typeof i?a.format(i):i)})))})),_.length<=0&&o.a.createElement(g.a,null,o.a.createElement(p.a,{colSpan:"11"},o.a.createElement(k.a,{severity:"info"},"Empty Data")))))),o.a.createElement(h.a,{rowsPerPageOptions:[10,30,100],component:"div",count:_.length,rowsPerPage:H,page:D,onChangePage:function(e,t){G(t)},onChangeRowsPerPage:function(e){T(+e.target.value),G(0)}}),o.a.createElement(E.a,{maxWidth:"xl",onClose:function(){return re(null)},"aria-labelledby":"simple-dialog-title",open:null!=le},o.a.createElement(O.a,{id:"simple-dialog-title"},"Are you sure?"),o.a.createElement(j.a,null,'Closed "',le,'"'),o.a.createElement(C.a,{style:{backgroundColor:"#eee"}},o.a.createElement(y.a,{size:"medium",variant:"contained",onClick:function(){return re(null)},color:"secondary",startIcon:o.a.createElement(w.a,null)},"No"),o.a.createElement(y.a,{size:"medium",variant:"contained",onClick:function(){var e;e=le,te([].concat(Object(l.a)(ee),[e])),S.a.post("/v2/Picking_Plan_Close_Front",{wms_doc:e}).then((function(t){var a=ee.indexOf(e);a>-1&&ee.splice(a,1),te(ee),t.data._result.status?X({msg:"Success",open:!0,type:"success"}):X({msg:"Fail : "+t.data._result.message,open:!0,type:"error"})})),re(null)},color:"primary",startIcon:o.a.createElement(x.a,null),type:"submit"},"Yes"))),V.open&&o.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:V.open,autoHideDuration:5e3,onClose:function(){return X({msg:"",open:!1,type:""})}},o.a.createElement(k.a,{elevation:6,variant:"filled",onClose:function(){return X({msg:"",open:!1,type:""})},severity:V.type},V.msg)))}}}]);
//# sourceMappingURL=157.ee007f4e.chunk.js.map