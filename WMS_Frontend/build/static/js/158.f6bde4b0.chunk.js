(this.webpackJsonpselftraning=this.webpackJsonpselftraning||[]).push([[158],{851:function(e,t,a){"use strict";a.r(t);var n=a(17),l=a(11),r=a(0),i=a.n(r),o=(a(23),a(343)),c=a(130),u=a(698),s=a(699),d=a(700),m=a(701),g=a(363),p=a(702),b=a(361),f=a(364),v=a(873),h=a(532),E=a(522),y=a(523),O=a(524),C=a(525),j=a(362),_=a(521),S=a(866),W=a(852),w=a(853),P=a(854),k=a(855),L=a(856),x=(a(629),[{id:"status",label:"Status",minWidth:100},{id:"wms_doc",label:"WMS\xa0Doc",minWidth:100},{id:"customer",label:"Cutomer",minWidth:100},{id:"grade",label:"Grade",minWidth:100},{id:"lot",label:"Lot",minWidth:100},{id:"no_pallet",label:"No Pallet",minWidth:100},{id:"qty",label:"Qty",minWidth:100,align:"right",format:function(e){return Number(e.toFixed(3)).toLocaleString("en-US")}},{id:"unit",label:"Unit",minWidth:100},{id:"waiting_pallet",label:"Waiting(Pallet)",minWidth:100,align:"right"},{id:"received_pallet",label:"Received(Pallet)",minWidth:100,align:"right"},{id:"action",label:"\ud83d\udee0",minWidth:100,align:"center"}]),I=Object(o.a)({root:{width:"100%",padding:15}}),N=null,q=function(e){var t=e.open,a=e.handleClose,n=e.handleSetToast,o=void 0===n?function(){}:n,c=e.handleOnSuccess,u=void 0===c?function(){}:c,s=(I(),Object(r.useState)("")),d=Object(l.a)(s,2),m=d[0],g=d[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),v=f[0],S=f[1],W=Object(r.useState)(""),w=Object(l.a)(W,2),k=w[0],x=w[1],N=Object(r.useState)(""),q=Object(l.a)(N,2),R=q[0],A=q[1],F=Object(r.useState)(""),z=Object(l.a)(F,2),D=z[0],G=z[1],B=Object(r.useState)(""),H=Object(l.a)(B,2),T=H[0],U=H[1],M=Object(r.useState)(""),J=Object(l.a)(M,2),Q=J[0],K=J[1],Y=Object(r.useState)(""),V=Object(l.a)(Y,2),X=V[0],Z=V[1],$=Object(r.useState)(""),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),le=Object(l.a)(ne,2),re=le[0],ie=le[1],oe=Object(r.useState)(""),ce=Object(l.a)(oe,2),ue=ce[0],se=ce[1],de=Object(r.useState)(!1),me=Object(l.a)(de,2),ge=me[0],pe=me[1];Object(r.useEffect)((function(){return function(){}}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",maxWidth:"xs"},i.a.createElement("form",{onSubmit:function(e){u(),window.loading.onLoading(),pe(!0);var t=""!=T?Number(T):T,n=""!=Q?Number(Q):Q,l=""!=re?Number(re):re;_.a.post("/v2/Recieve_PLAN_Front",{wms_doc:m,customer:v,to_wh:k,grade:R,lot:D,no_strat:t,no_end:n,sku:X,status:te,qty_pallet:l,unit:ue}).then((function(e){window.loading.onLoaded(),pe(!1),e.data._result.status?(o({msg:"Success",open:!0,type:"success"}),u(),a()):o({msg:"Fail : "+e.data._result.message,open:!0,type:"error"})})),e.preventDefault()},autoComplete:"off"},i.a.createElement(y.a,{id:"form-dialog-title",onClose:a},i.a.createElement("center",null,"Add Receive")),i.a.createElement(O.a,null,i.a.createElement(j.a,{autoFocus:!0,type:"text",margin:"dense",id:"wms_doc",label:"WMS Doc",fullWidth:!0,required:!0,value:m,onChange:function(e){return g(e.target.value)},helperText:null}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"customer",label:"Customer",fullWidth:!0,required:!0,value:v,onChange:function(e){return S(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"to_wh",label:"To WH",fullWidth:!0,required:!0,value:k,onChange:function(e){return x(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"grade",label:"Grade",fullWidth:!0,required:!0,value:R,onChange:function(e){return A(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"lot",label:"Lot",fullWidth:!0,required:!0,value:D,onChange:function(e){return G(e.target.value)}}),i.a.createElement(j.a,{type:"number",margin:"dense",id:"no_strat",label:"No Strat",required:!0,InputProps:{step:1},value:T,onChange:function(e){return U(e.target.value)}}),i.a.createElement(j.a,{type:"number",margin:"dense",id:"no_end",label:"No End",style:{marginLeft:10},required:!0,InputProps:{step:1},value:Q,onChange:function(e){return K(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"sku",label:"SKU",fullWidth:!0,required:!0,value:X,onChange:function(e){return Z(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"status",label:"Status",fullWidth:!0,required:!0,value:te,onChange:function(e){return ae(e.target.value)}}),i.a.createElement(j.a,{type:"number",margin:"dense",id:"qty_pallet",label:"Qty Pallet",fullWidth:!0,required:!0,value:re,onChange:function(e){return ie(e.target.value)}}),i.a.createElement(j.a,{type:"text",margin:"dense",id:"unit",label:"Unit",fullWidth:!0,required:!0,InputProps:{step:1},value:ue,onChange:function(e){return se(e.target.value)}})),i.a.createElement(C.a,{style:{backgroundColor:"#eee"}},ge?i.a.createElement(b.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{size:"small",variant:"contained",onClick:a,color:"secondary",startIcon:i.a.createElement(P.a,null)},"Cancel"),i.a.createElement(h.a,{size:"small",variant:"contained",onClick:function(){},color:"primary",startIcon:i.a.createElement(L.a,null),type:"submit"},"Save"))))))};t.default=function(e){var t=I(),a=Object(r.useState)([]),o=Object(l.a)(a,2),j=o[0],L=o[1],R=Object(r.useState)(0),A=Object(l.a)(R,2),F=A[0],z=A[1],D=Object(r.useState)(10),G=Object(l.a)(D,2),B=G[0],H=G[1],T=Object(r.useState)(!1),U=Object(l.a)(T,2),M=U[0],J=U[1],Q=Object(r.useState)({msg:null,open:!1,type:null}),K=Object(l.a)(Q,2),Y=K[0],V=K[1],X=Object(r.useState)([]),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)(null),ae=Object(l.a)(te,2),ne=ae[0],le=ae[1];Object(r.useEffect)((function(){return window.loading.onLoading(),_.a.get("/v2/GetSPReportAPI",{spname:"Recieve_PLAN_Load_Front"}).then((function(e){if(window.loading.onLoaded(),_.a.isMockData)return L(_.a.mockDataGCL.monitorReceive);e.data._result.status?(L(e.data.datas),N=setInterval((function(){_.a.get("/v2/GetSPReportAPI",{spname:"Recieve_PLAN_Load_Front"}).then((function(e){e.data._result.status?L(e.data.datas):V({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})}))}),5e3)):V({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})})),function(){clearInterval(N)}}),[]);return i.a.createElement(c.a,{className:t.root},i.a.createElement(q,{open:M,handleClose:function(){return J(!1)},handleSetToast:V,handleOnSuccess:function(){clearInterval(N),N=setInterval((function(){_.a.get("/v2/GetSPReportAPI",{spname:"Recieve_PLAN_Load_Front"}).then((function(e){e.data._result.status?L(e.data.datas):V({msg:"Load data fail : "+e.data._result.message,open:!0,type:"error"})}))}),5e3)}}),i.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:10}},i.a.createElement(h.a,{variant:"contained",color:"primary",size:"medium",startIcon:i.a.createElement(W.a,null),onClick:function(){return J(!0)}}," Add Receive")),i.a.createElement(u.a,{className:"tableCustom",style:{maxHeight:440}},i.a.createElement(s.a,{stickyHeader:!0,"aria-label":"sticky table"},i.a.createElement(d.a,null,i.a.createElement(m.a,null,x.map((function(e){return i.a.createElement(g.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,backgroundColor:"#BBB",padding:10}},e.label)})))),i.a.createElement(p.a,null,j.length>0&&j.slice(F*B,F*B+B).map((function(e,t){return i.a.createElement(m.a,{hover:!0,key:t},x.map((function(a,n){var l=e[a.id];return"action"==a.id?i.a.createElement(g.a,{key:a.id+t,align:a.align,style:{padding:10}},e.status.toLowerCase()!="Closed".toLowerCase()&&i.a.createElement(h.a,{variant:"contained",color:"primary",style:{backgroundColor:"#16C050"},size:"small",onClick:function(){return le(e.wms_doc)},disabled:$.length>0},$.indexOf(e.wms_doc)>-1?i.a.createElement(b.a,{size:20}):i.a.createElement(w.a,null)," Closed")):i.a.createElement(g.a,{key:a.id+t,align:a.align,style:{padding:10}},a.format&&"number"===typeof l?a.format(l):l)})))})),j.length<=0&&i.a.createElement(m.a,null,i.a.createElement(g.a,{colSpan:"11"},i.a.createElement(S.a,{severity:"info"},"Empty Data")))))),i.a.createElement(f.a,{rowsPerPageOptions:[10,30,100],component:"div",count:j.length,rowsPerPage:B,page:F,onChangePage:function(e,t){z(t)},onChangeRowsPerPage:function(e){H(+e.target.value),z(0)}}),i.a.createElement(E.a,{maxWidth:"xl",onClose:function(){return le(null)},"aria-labelledby":"simple-dialog-title",open:null!=ne},i.a.createElement(y.a,{id:"simple-dialog-title"},"Are you sure?"),i.a.createElement(O.a,null,'Closed "',ne,'"'),i.a.createElement(C.a,{style:{backgroundColor:"#eee"}},i.a.createElement(h.a,{size:"medium",variant:"contained",onClick:function(){return le(null)},color:"secondary",startIcon:i.a.createElement(P.a,null)},"No"),i.a.createElement(h.a,{size:"medium",variant:"contained",onClick:function(){var e;e=ne,ee([].concat(Object(n.a)($),[e])),_.a.post("/v2/Recieve_PLAN_Close_Front",{wms_doc:e}).then((function(t){var a=$.indexOf(e);a>-1&&$.splice(a,1),ee($),t.data._result.status?V({msg:"Success",open:!0,type:"success"}):V({msg:"Fail : "+t.data._result.message,open:!0,type:"error"})})),le(null)},color:"primary",startIcon:i.a.createElement(k.a,null),type:"submit"},"Yes"))),Y.open&&i.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Y.open,autoHideDuration:5e3,onClose:function(){return V({msg:"",open:!1,type:""})}},i.a.createElement(S.a,{elevation:6,variant:"filled",onClose:function(){return V({msg:"",open:!1,type:""})},severity:Y.type},Y.msg)))}}}]);
//# sourceMappingURL=158.f6bde4b0.chunk.js.map